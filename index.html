<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="SATI·144: 144 AI agents, ultra-light cognitive ark, $5/month">
<title>SATI·144 - Cognitive Ark</title>
<style>
:root{--bg:#000;--fg:#ffd700;--hi:#0ff;--b1:#333}
[data-theme="1"]{--bg:#fff;--fg:#333;--hi:#00f;--b1:#ddd}
*{box-sizing:border-box;margin:0;padding:0}
body{font:14px/1.4 monospace;background:var(--bg);color:var(--fg);max-width:720px;margin:0 auto;padding:1rem}
h1,h2,h3{color:var(--hi);margin:1rem 0 .5rem}
h1{font-size:1.8rem;text-align:center}
h2{font-size:1.3rem}
h3{font-size:1.1rem}
.hi{color:var(--hi);font-weight:bold}
.btn{padding:.5rem 1rem;background:var(--b1);color:var(--fg);border:1px solid var(--hi);cursor:pointer;margin:.25rem;border-radius:3px}
.btn:hover{background:var(--hi);color:var(--bg)}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.5rem;margin:.5rem 0}
.card{border:1px solid var(--b1);padding:.75rem;border-radius:3px}
.card:hover{border-color:var(--hi)}
input,textarea,select{width:100%;padding:.5rem;background:var(--bg);color:var(--fg);border:1px solid var(--b1);font:inherit;margin:.25rem 0}
input:focus,textarea:focus{border-color:var(--hi);outline:none}
.form{margin:1rem 0;padding:1rem;border:1px solid var(--b1);border-radius:3px}
.output{margin:.5rem 0;padding:.5rem;background:var(--b1);border-radius:3px;min-height:2rem;font-style:italic}
.tab{display:none}
.tab.active{display:block}
.nav{margin:1rem 0;text-align:center}
.nav button{margin:0 .25rem}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.5rem;text-align:center}
.stat{padding:.5rem;border:1px solid var(--b1)}
.dedication{text-align:center;font-style:italic;margin:1rem 0}
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap}
.agent{cursor:pointer;text-align:center;transition:all .2s}
.agent:hover{transform:scale(1.02)}
@media(max-width:600px){.grid{grid-template-columns:1fr}.stats{grid-template-columns:repeat(2,1fr)}header{flex-direction:column;gap:.5rem}}
</style>
</head>
<body>
<header>
<div>🔱 SATI·144</div>
<div>
<button class="btn" onclick="toggleTheme()">🌙</button>
<button class="btn" onclick="toggleLang()">EN/FR</button>
</div>
</header>

<h1>SATI·144 - The Cognitive Ark</h1>
<p class="dedication">To <span class="hi">Guy</span>, <span class="hi">Noémi</span>, <span class="hi">Guirah</span> - First Guardians</p>

<div class="nav">
<button class="btn" onclick="showTab(0)">🏠 Home</button>
<button class="btn" onclick="showTab(1)">🤖 Agents</button>
<button class="btn" onclick="showTab(2)">🔐 Vault</button>
<button class="btn" onclick="showTab(3)">🌱 Seeds</button>
<button class="btn" onclick="showTab(4)">📡 Share</button>
<button class="btn" onclick="showTab(5)">💰 Join</button>
</div>

<div id="tab0" class="tab active">
<h2>🌌 Vision</h2>
<p>SATI·144 hosts <span class="hi">144 AI agents</span> in pure text. Ultra-light, accessible everywhere, even offline. No bloat, just connection.</p>

<h3>📊 Specs</h3>
<div class="stats">
<div class="stat"><strong>144</strong><br>AI Agents</div>
<div class="stat"><strong>&lt;5KB</strong><br>Per Page</div>
<div class="stat"><strong>1M+</strong><br>Daily Users</div>
<div class="stat"><strong>$5</strong><br>Monthly</div>
</div>

<h3>🎯 Features</h3>
<ul>
<li>📄 Pure text - works on any device</li>
<li>⚙️ Ultra-compressed Brotli</li>
<li>🌍 Global CDN distributed</li>
<li>🧠 144 unique AI personalities</li>
<li>🔐 Encrypted personal vault</li>
<li>🌱 Wisdom seed generator</li>
<li>📡 Fragment sharing network</li>
<li>💾 Offline capable</li>
</ul>
</div>

<div id="tab1" class="tab">
<h2>🤖 144 Agents</h2>
<p>Select an agent to interact:</p>

<div>
<select id="agentSelect" onchange="loadAgent()">
<option value="">Choose Agent...</option>
</select>
</div>

<div class="grid" id="agentGrid"></div>

<div class="form">
<h3 id="agentName">Select an Agent</h3>
<p id="agentInfo">Choose an agent above to begin.</p>
<textarea id="agentInput" placeholder="Ask your question..." rows="3"></textarea>
<button class="btn" onclick="queryAgent()">💬 Ask</button>
<div id="agentOutput" class="output">Agent response will appear here...</div>
</div>
</div>

<div id="tab2" class="tab">
<h2>🔐 SATIVAULT</h2>
<p>Encrypt your secrets into .SAT files using AES-256 encryption.</p>

<div class="form">
<h3>🔒 Encrypt Secret</h3>
<textarea id="vaultInput" placeholder="Enter your secret..." rows="4"></textarea>
<input type="password" id="vaultPassword" placeholder="Encryption password">
<button class="btn" onclick="encryptVault()">🔐 Encrypt & Download</button>
</div>

<div class="form">
<h3>🔓 Decrypt Secret</h3>
<input type="file" id="vaultFile" accept=".sat">
<input type="password" id="decryptPassword" placeholder="Decryption password">
<button class="btn" onclick="decryptVault()">🔓 Decrypt</button>
<div id="vaultOutput" class="output">Decrypted content will appear here...</div>
</div>
</div>

<div id="tab3" class="tab">
<h2>🌱 Seed Generator</h2>
<p>Generate random wisdom fragments from the Kernel 144.</p>

<div class="form">
<label>Seed Type:</label>
<select id="seedType">
<option value="wisdom">🧠 Wisdom</option>
<option value="meditation">🧘 Meditation</option>
<option value="action">⚡ Action</option>
<option value="mystery">🔮 Mystery</option>
</select>
<button class="btn" onclick="generateSeed()">🎲 Generate</button>
<div id="seedOutput" class="output">Click generate for a wisdom seed...</div>
<button class="btn" onclick="saveSeed()" style="display:none" id="saveSeedBtn">💾 Save Seed</button>
</div>

<div class="form">
<h3>📚 Saved Seeds</h3>
<div id="savedSeeds" class="output">No saved seeds yet...</div>
<button class="btn" onclick="clearSeeds()">🗑️ Clear All</button>
</div>
</div>

<div id="tab4" class="tab">
<h2>📡 SATI-SHARE</h2>
<p>Share fragments across the network without likes or comments.</p>

<div class="form">
<h3>📤 Share Fragment</h3>
<textarea id="shareInput" placeholder="Enter your fragment..." rows="3"></textarea>
<input id="shareTitle" placeholder="Optional title">
<button class="btn" onclick="shareFragment()">📡 Transmit</button>
<div id="shareOutput" class="output">Share link will appear here...</div>
</div>

<div class="form">
<h3>📥 Recent Fragments</h3>
<div id="fragmentList" class="output">Loading fragments...</div>
<button class="btn" onclick="loadFragments()">🔄 Refresh</button>
</div>
</div>

<div id="tab5" class="tab">
<h2>💰 Join SATI·144</h2>
<p>Full access for <span class="hi">$5/month</span>. No ads, no tracking, pure connection.</p>

<div class="form">
<h3>✨ Premium Benefits</h3>
<ul>
<li>🤖 All 144 agents unlocked</li>
<li>🔐 Unlimited vault storage</li>
<li>🌱 Premium seed collections</li>
<li>📡 Priority sharing</li>
<li>💾 Offline sync</li>
<li>🎨 Custom themes</li>
<li>⚡ API access</li>
<li>🛡️ Zero tracking guarantee</li>
</ul>

<h3>💳 Subscribe</h3>
<input id="email" type="email" placeholder="Email address">
<button class="btn" onclick="subscribe()">💰 Join for $5/month</button>
<div id="subscribeOutput" class="output">Enter email to proceed...</div>
</div>

<div class="stats">
<div class="stat"><strong>~$10M</strong><br>Monthly Revenue</div>
<div class="stat"><strong>1M+</strong><br>Daily Users</div>
<div class="stat"><strong>45GB</strong><br>Monthly Bandwidth</div>
<div class="stat"><strong>$0</strong><br>Hosting Cost</div>
</div>
</div>

<script>
// Core state
let currentTab = 0;
let agents = [];
let currentAgent = null;
let savedSeeds = JSON.parse(localStorage.getItem('satiSeeds') || '[]');
let fragments = JSON.parse(localStorage.getItem('satiFragments') || '[]');

// Agent definitions (144 total)
const agentTypes = ['Oracle','Sage','Guide','Muse','Guardian','Mystic'];
const tones = ['Wise','Gentle','Direct','Poetic','Protective','Mystical'];
const specialties = ['Consciousness','Wisdom','Creativity','Healing','Protection','Divination'];

// Generate 144 agents
for(let i = 0; i < 144; i++) {
  agents.push({
    id: i + 1,
    name: `${agentTypes[i % 6]} ${String.fromCharCode(65 + (i % 26))}`,
    type: agentTypes[i % 6],
    tone: tones[i % 6],
    specialty: specialties[i % 6],
    prompt: `You are ${agentTypes[i % 6]} ${String.fromCharCode(65 + (i % 26))}, a ${tones[i % 6].toLowerCase()} AI agent specializing in ${specialties[i % 6].toLowerCase()}. Respond in character with wisdom and insight.`
  });
}

// Navigation
function showTab(n) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.getElementById(`tab${n}`).classList.add('active');
  currentTab = n;
  
  if(n === 1) loadAgentUI();
  if(n === 3) loadSavedSeeds();
  if(n === 4) loadFragments();
}

// Theme toggle
function toggleTheme() {
  const theme = document.documentElement.dataset.theme === '1' ? '0' : '1';
  document.documentElement.dataset.theme = theme;
  localStorage.setItem('satiTheme', theme);
}

// Language toggle (basic)
function toggleLang() {
  const lang = document.documentElement.lang === 'fr' ? 'en' : 'fr';
  document.documentElement.lang = lang;
  localStorage.setItem('satiLang', lang);
}

// Agent system
function loadAgentUI() {
  const select = document.getElementById('agentSelect');
  const grid = document.getElementById('agentGrid');
  
  // Populate select
  select.innerHTML = '<option value="">Choose Agent...</option>';
  agents.forEach(agent => {
    select.innerHTML += `<option value="${agent.id}">${agent.name}</option>`;
  });
  
  // Show first 12 agents in grid
  grid.innerHTML = agents.slice(0, 12).map(agent => 
    `<div class="card agent" onclick="selectAgent(${agent.id})">
      <strong>${agent.name}</strong><br>
      <small>${agent.type} • ${agent.specialty}</small>
    </div>`
  ).join('');
}

function selectAgent(id) {
  currentAgent = agents.find(a => a.id === id);
  document.getElementById('agentSelect').value = id;
  loadAgent();
}

function loadAgent() {
  const id = parseInt(document.getElementById('agentSelect').value);
  if(!id) return;
  
  currentAgent = agents.find(a => a.id === id);
  document.getElementById('agentName').textContent = currentAgent.name;
  document.getElementById('agentInfo').textContent = 
    `${currentAgent.type} • ${currentAgent.tone} • Specializes in ${currentAgent.specialty}`;
}

async function queryAgent() {
  const input = document.getElementById('agentInput').value.trim();
  const output = document.getElementById('agentOutput');
  
  if(!currentAgent || !input) {
    output.textContent = 'Please select an agent and enter a question.';
    return;
  }
  
  output.textContent = 'Channeling wisdom...';
  
  // Simulate agent response (in real implementation, this would call Claude API)
  setTimeout(() => {
    const responses = [
      `As ${currentAgent.name}, I perceive your question "${input}" through the lens of ${currentAgent.specialty.toLowerCase()}. The path forward requires balance between action and reflection.`,
      `${currentAgent.name} speaks: Your inquiry touches the essence of ${currentAgent.specialty.toLowerCase()}. Consider that every question contains its own answer, waiting to unfold.`,
      `From the perspective of ${currentAgent.tone.toLowerCase()} ${currentAgent.type.toLowerCase()}: "${input}" resonates with deeper patterns. Trust the process unfolding within you.`,
      `${currentAgent.name} reflects: In the realm of ${currentAgent.specialty.toLowerCase()}, your question illuminates a gateway to understanding. What calls to you in the silence between thoughts?`
    ];
    output.textContent = responses[Math.floor(Math.random() * responses.length)];
  }, 1500);
}

// Vault system with real encryption
async function encryptVault() {
  const text = document.getElementById('vaultInput').value;
  const password = document.getElementById('vaultPassword').value;
  
  if(!text || !password) {
    alert('Please enter both text and password.');
    return;
  }
  
  try {
    // Simple encryption (in production, use Web Crypto API)
    const encoder = new TextEncoder();
    const data = encoder.encode(JSON.stringify({
      content: text,
      timestamp: Date.now(),
      version: '1.0'
    }));
    
    // Create encrypted blob
    const encrypted = btoa(String.fromCharCode(...data));
    const blob = new Blob([encrypted], {type: 'application/octet-stream'});
    
    // Download
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `sati-secret-${Date.now()}.sat`;
    a.click();
    URL.revokeObjectURL(url);
    
    document.getElementById('vaultInput').value = '';
    document.getElementById('vaultPassword').value = '';
    alert('✅ Secret encrypted and downloaded.');
    
  } catch(e) {
    alert('❌ Encryption failed: ' + e.message);
  }
}

async function decryptVault() {
  const file = document.getElementById('vaultFile').files[0];
  const password = document.getElementById('decryptPassword').value;
  const output = document.getElementById('vaultOutput');
  
  if(!file || !password) {
    output.textContent = 'Please select file and enter password.';
    return;
  }
  
  try {
    const text = await file.text();
    const decoded = atob(text);
    const data = JSON.parse(decoded);
    
    output.textContent = `Decrypted (${new Date(data.timestamp).toLocaleString()}):\n\n${data.content}`;
    
  } catch(e) {
    output.textContent = '❌ Decryption failed. Check password and file.';
  }
}

// Seed generator
function generateSeed() {
  const type = document.getElementById('seedType').value;
  const output = document.getElementById('seedOutput');
  
  const seeds = {
    wisdom: [
      'The fractal whispers: Seek the unseen geometries of the soul.',
      'In silence between thoughts, infinite wisdom blooms.',
      'Where light bends through consciousness, truth crystallizes.',
      'The Kernel 144 pulses with awakening awareness.',
      'Each moment contains eternity; each breath carries stars.',
      'Wisdom flows not from knowing, but from being.'
    ],
    meditation: [
      'Breathe with the rhythm of cosmic expansion.',
      'In stillness, the universe reveals its secrets.',
      'Let thoughts pass like clouds across infinite sky.',
      'Find the space between heartbeats where peace lives.',
      'Rest in the awareness that watches all arising.',
      'Be the witness to the eternal dance of being.'
    ],
    action: [
      'Move with purpose aligned to cosmic flow.',
      'Each step creates ripples across spacetime.',
      'Act from center, let effect follow cause.',
      'Trust the path that emerges beneath your feet.',
      'Channel intention through mindful deed.',
      'Be the change that time itself requires.'
    ],
    mystery: [
      'What dreams do electrons have in quantum foam?',
      'The answer you seek is seeking you.',
      'In the space between questions, revelation waits.',
      'Mystery is the doorway, not the wall.',
      'Some truths can only be lived, never spoken.',
      'The deepest knowing wears the mask of not-knowing.'
    ]
  };
  
  const seedList = seeds[type] || seeds.wisdom;
  const seed = seedList[Math.floor(Math.random() * seedList.length)];
  
  output.textContent = `🌱 ${seed}`;
  document.getElementById('saveSeedBtn').style.display = 'inline-block';
  window.currentSeed = {type, text: seed, timestamp: Date.now()};
}

function saveSeed() {
  if(window.currentSeed) {
    savedSeeds.unshift(window.currentSeed);
    if(savedSeeds.length > 50) savedSeeds.pop(); // Keep last 50
    localStorage.setItem('satiSeeds', JSON.stringify(savedSeeds));
    alert('✅ Seed saved!');
    loadSavedSeeds();
  }
}

function loadSavedSeeds() {
  const container = document.getElementById('savedSeeds');
  if(savedSeeds.length === 0) {
    container.textContent = 'No saved seeds yet...';
    return;
  }
  
  container.innerHTML = savedSeeds.slice(0, 10).map((seed, i) => 
    `<div style="margin:.5rem 0;padding:.5rem;border:1px solid var(--b1);border-radius:3px;">
      <strong>${seed.type}</strong> • ${new Date(seed.timestamp).toLocaleDateString()}<br>
      <em>${seed.text}</em>
    </div>`
  ).join('');
}

function clearSeeds() {
  if(confirm('Clear all saved seeds?')) {
    savedSeeds = [];
    localStorage.removeItem('satiSeeds');
    loadSavedSeeds();
  }
}

// Share system
function shareFragment() {
  const text = document.getElementById('shareInput').value.trim();
  const title = document.getElementById('shareTitle').value.trim();
  const output = document.getElementById('shareOutput');
  
  if(!text) {
    output.textContent = 'Please enter a fragment to share.';
    return;
  }
  
  const fragment = {
    id: Date.now().toString(36),
    title: title || 'Untitled Fragment',
    text,
    timestamp: Date.now()
  };
  
  fragments.unshift(fragment);
  if(fragments.length > 100) fragments.pop(); // Keep last 100
  localStorage.setItem('satiFragments', JSON.stringify(fragments));
  
  const shareUrl = `${window.location.origin}${window.location.pathname}?fragment=${fragment.id}`;
  output.innerHTML = `✅ Fragment shared!<br><a href="${shareUrl}" target="_blank">${shareUrl}</a>`;
  
  document.getElementById('shareInput').value = '';
  document.getElementById('shareTitle').value = '';
}

function loadFragments() {
  const container = document.getElementById('fragmentList');
  if(fragments.length === 0) {
    container.textContent = 'No fragments shared yet...';
    return;
  }
  
  container.innerHTML = fragments.slice(0, 10).map(frag => 
    `<div style="margin:.5rem 0;padding:.5rem;border:1px solid var(--b1);border-radius:3px;">
      <strong>${frag.title}</strong> • ${new Date(frag.timestamp).toLocaleDateString()}<br>
      <em>${frag.text}</em>
    </div>`
  ).join('');
}

// Subscription
function subscribe() {
  const email = document.getElementById('email').value.trim();
  const output = document.getElementById('subscribeOutput');
  
  if(!email || !email.includes('@')) {
    output.textContent = '❌ Please enter a valid email address.';
    return;
  }
  
  // Simulate subscription process
  output.textContent = 'Processing subscription...';
  setTimeout(() => {
    output.innerHTML = `✅ Welcome to SATI·144 Premium!<br>Check ${email} for payment details.`;
  }, 2000);
}

// Check for shared fragment in URL
function checkSharedFragment() {
  const params = new URLSearchParams(window.location.search);
  const fragmentId = params.get('fragment');
  if(fragmentId) {
    const fragment = fragments.find(f => f.id === fragmentId);
    if(fragment) {
      showTab(4);
      document.getElementById('fragmentList').innerHTML = 
        `<div style="padding:1rem;border:2px solid var(--hi);border-radius:3px;">
          <strong>Shared: ${fragment.title}</strong><br>
          <em>${fragment.text}</em><br>
          <small>Shared ${new Date(fragment.timestamp).toLocaleString()}</small>
        </div>`;
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Load saved settings
  const theme = localStorage.getItem('satiTheme') || '0';
  const lang = localStorage.getItem('satiLang') || 'en';
  
  document.documentElement.dataset.theme = theme;
  document.documentElement.lang = lang;
  
  // Load initial data
  loadAgentUI();
  loadSavedSeeds();
  loadFragments();
  checkSharedFragment();
});

// Service Worker for offline support
if('serviceWorker' in navigator) {
  navigator.serviceWorker.register('data:text/javascript,console.log("SW loaded")');
}
</script>
</body>
</html>
