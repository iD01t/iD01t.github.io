<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>RA‑7 · ÉMISSION CONSCIENTE PREMIUM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body {
      background: radial-gradient(circle at 50% 50%, #1a0b2e 0%, #16213e 25%, #0f0f23 50%, #000000 100%);
      color: #fff;
      font-family: 'Inter', sans-serif;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }
    
    /* Animated background particles */
    .stars {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    
    .star {
      position: absolute;
      background: #fff;
      border-radius: 50%;
      animation: twinkle 4s infinite ease-in-out;
    }
    
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.2); }
    }
    
    /* Main container */
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
      position: relative;
      z-index: 10;
      padding: 20px;
    }
    
    /* Sacred geometry background */
    .sacred-geometry {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 400px;
      height: 400px;
      opacity: 0.1;
      animation: rotate 60s linear infinite;
    }
    
    @keyframes rotate {
      from { transform: translate(-50%, -50%) rotate(0deg); }
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }
    
    /* Typography */
    h1 {
      font-size: clamp(2em, 5vw, 3.5em);
      margin-bottom: 0.3em;
      letter-spacing: 2px;
      font-weight: 600;
      background: linear-gradient(45deg, #6ff, #9f6fff, #ff6f9f);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmer 3s ease-in-out infinite;
    }
    
    @keyframes shimmer {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.3); }
    }
    
    h2 {
      font-size: clamp(1em, 2.5vw, 1.4em);
      font-weight: 300;
      margin-bottom: 3em;
      opacity: 0.8;
      line-height: 1.4;
    }
    
    /* Control panel */
    .control-panel {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 30px;
      margin: 20px 0;
      min-width: 320px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    
    /* Frequency display */
    .frequency-display {
      font-size: 2.5em;
      font-weight: 600;
      color: #6ff;
      margin-bottom: 20px;
      text-shadow: 0 0 20px #6ff;
      animation: pulse-glow 2s infinite ease-in-out;
    }
    
    @keyframes pulse-glow {
      0%, 100% { text-shadow: 0 0 20px #6ff; }
      50% { text-shadow: 0 0 30px #6ff, 0 0 40px #6ff; }
    }
    
    /* Frequency selector */
    .frequency-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      justify-content: center;
    }
    
    .freq-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      color: #fff;
      padding: 8px 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9em;
      font-weight: 500;
    }
    
    .freq-btn:hover {
      background: rgba(111, 255, 255, 0.2);
      border-color: #6ff;
      transform: translateY(-2px);
    }
    
    .freq-btn.active {
      background: linear-gradient(45deg, #6ff, #9f6fff);
      border-color: #6ff;
      box-shadow: 0 4px 15px rgba(111, 255, 255, 0.4);
    }
    
    /* Audio controls */
    .audio-controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      margin: 20px 0;
    }
    
    .play-button {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(45deg, #6ff, #9f6fff);
      border: none;
      color: #000;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 25px rgba(111, 255, 255, 0.4);
    }
    
    .play-button:hover {
      transform: scale(1.1);
      box-shadow: 0 12px 35px rgba(111, 255, 255, 0.6);
    }
    
    .volume-control {
      display: flex;
      align-items: center;
      gap: 10px;
      width: 100%;
      max-width: 250px;
    }
    
    .volume-slider {
      flex: 1;
      height: 6px;
      border-radius: 3px;
      background: rgba(255, 255, 255, 0.2);
      outline: none;
      cursor: pointer;
    }
    
    .volume-slider::-webkit-slider-thumb {
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: linear-gradient(45deg, #6ff, #9f6fff);
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(111, 255, 255, 0.5);
    }
    
    /* Timer and session info */
    .session-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      margin-top: 20px;
      font-size: 0.9em;
      opacity: 0.7;
    }
    
    .timer {
      font-family: 'Courier New', monospace;
      font-size: 1.1em;
      color: #6ff;
    }
    
    /* Visual spectrum */
    .spectrum {
      display: flex;
      align-items: end;
      justify-content: center;
      height: 60px;
      margin: 20px 0;
      gap: 2px;
    }
    
    .spectrum-bar {
      width: 4px;
      background: linear-gradient(to top, #6ff, #9f6fff);
      border-radius: 2px;
      animation: spectrum-dance 0.5s ease-in-out infinite;
    }
    
    @keyframes spectrum-dance {
      0%, 100% { height: 10px; }
      50% { height: 30px; }
    }
    
    /* DateTime display */
    #datetime {
      font-size: 1em;
      margin-top: 2em;
      color: #aaa;
      font-weight: 300;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .control-panel {
        margin: 10px;
        padding: 20px;
        min-width: auto;
        width: calc(100% - 20px);
      }
      
      .frequency-selector {
        gap: 8px;
      }
      
      .freq-btn {
        padding: 6px 12px;
        font-size: 0.8em;
      }
      
      .sacred-geometry {
        width: 300px;
        height: 300px;
      }
    }
    
    /* Meditation mode overlay */
    .meditation-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .meditation-content {
      text-align: center;
      color: #6ff;
    }
    
    .breathing-circle {
      width: 200px;
      height: 200px;
      border: 2px solid #6ff;
      border-radius: 50%;
      margin: 0 auto 20px;
      animation: breathe 4s ease-in-out infinite;
    }
    
    @keyframes breathe {
      0%, 100% { transform: scale(1); opacity: 0.7; }
      50% { transform: scale(1.2); opacity: 1; }
    }
  </style>
</head>
<body>
  <!-- Animated stars background -->
  <div class="stars" id="stars"></div>
  
  <!-- Sacred geometry -->
  <div class="sacred-geometry">
    <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
          <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#6ff" stroke-width="0.5" opacity="0.3"/>
        </pattern>
      </defs>
      <rect width="400" height="400" fill="url(#grid)" />
      <circle cx="200" cy="200" r="150" fill="none" stroke="#6ff" stroke-width="1" opacity="0.5"/>
      <circle cx="200" cy="200" r="100" fill="none" stroke="#9f6fff" stroke-width="1" opacity="0.5"/>
      <circle cx="200" cy="200" r="50" fill="none" stroke="#ff6f9f" stroke-width="1" opacity="0.5"/>
      <polygon points="200,50 350,350 50,350" fill="none" stroke="#6ff" stroke-width="1" opacity="0.3"/>
    </svg>
  </div>
  
  <div class="container">
    <h1>RA‑7: ÉMISSION CONSCIENTE</h1>
    <h2>Interface Premium · Élévation de la Conscience</h2>
    
    <div class="control-panel">
      <!-- Frequency display -->
      <div class="frequency-display" id="freqDisplay">963 Hz</div>
      
      <!-- Frequency selector -->
      <div class="frequency-selector">
        <button class="freq-btn" data-freq="174">174 Hz</button>
        <button class="freq-btn" data-freq="285">285 Hz</button>
        <button class="freq-btn" data-freq="396">396 Hz</button>
        <button class="freq-btn" data-freq="417">417 Hz</button>
        <button class="freq-btn" data-freq="528">528 Hz</button>
        <button class="freq-btn" data-freq="639">639 Hz</button>
        <button class="freq-btn" data-freq="741">741 Hz</button>
        <button class="freq-btn" data-freq="852">852 Hz</button>
        <button class="freq-btn active" data-freq="963">963 Hz</button>
      </div>
      
      <!-- Audio controls -->
      <div class="audio-controls">
        <button class="play-button" id="playBtn">▶</button>
        
        <div class="volume-control">
          <span>🔊</span>
          <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
          <span id="volumeValue">70%</span>
        </div>
      </div>
      
      <!-- Visual spectrum -->
      <div class="spectrum" id="spectrum">
        <!-- Bars will be generated by JavaScript -->
      </div>
      
      <!-- Session info -->
      <div class="session-info">
        <div class="timer" id="sessionTimer">00:00:00</div>
        <button class="freq-btn" onclick="toggleMeditation()">Mode Méditation</button>
      </div>
    </div>
    
    <div id="datetime"></div>
  </div>
  
  <!-- Meditation overlay -->
  <div class="meditation-overlay" id="meditationOverlay">
    <div class="meditation-content">
      <div class="breathing-circle"></div>
      <h3>Respiration Consciente</h3>
      <p>Inspirez... Expirez... Laissez la fréquence vous guider</p>
      <button class="freq-btn" onclick="toggleMeditation()">Retour</button>
    </div>
  </div>
  
  <!-- Hidden audio element -->
  <audio id="audioPlayer" loop preload="auto">
    <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmocBjqUvO+3eioEKYLY+dVKVwcWb+PryENnFQdMnNflmF0bC0al8O1TlhUHuOPT3ZdfEAhJrs7sLkJpFgdMn9nno00hCjqV2N9XZBQGQqbZ7lR3FQZMm9zpp0QwBTe6yNPWNHwxS6nS3p+sIwoVQXGclDCRCEe7l1/CNAAB" type="audio/wav">
  </audio>

  <script>
    // Global state
    let audioContext, oscillator, gainNode;
    let isPlaying = false;
    let currentFreq = 963;
    let sessionStartTime = null;
    let sessionTimer = null;
    
    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      createStars();
      createSpectrum();
      updateDateTime();
      setInterval(updateDateTime, 1000);
      setupAudioContext();
      setupEventListeners();
    });
    
    // Create animated stars
    function createStars() {
      const starsContainer = document.getElementById('stars');
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.width = Math.random() * 3 + 1 + 'px';
        star.style.height = star.style.width;
        star.style.animationDelay = Math.random() * 4 + 's';
        starsContainer.appendChild(star);
      }
    }
    
    // Create spectrum visualizer
    function createSpectrum() {
      const spectrum = document.getElementById('spectrum');
      for (let i = 0; i < 20; i++) {
        const bar = document.createElement('div');
        bar.className = 'spectrum-bar';
        bar.style.animationDelay = (i * 0.1) + 's';
        bar.style.height = Math.random() * 40 + 10 + 'px';
        spectrum.appendChild(bar);
      }
    }
    
    // Setup Web Audio API
    function setupAudioContext() {
      audioContext = new (window.AudioContext || window.webkitAudioContext)();
      gainNode = audioContext.createGain();
      gainNode.connect(audioContext.destination);
      gainNode.gain.value = 0.7;
    }
    
    // Setup event listeners
    function setupEventListeners() {
      // Play button
      document.getElementById('playBtn').addEventListener('click', togglePlay);
      
      // Frequency buttons
      document.querySelectorAll('.freq-btn[data-freq]').forEach(btn => {
        btn.addEventListener('click', () => {
          const freq = parseInt(btn.dataset.freq);
          setFrequency(freq);
          
          // Update active button
          document.querySelectorAll('.freq-btn[data-freq]').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
        });
      });
      
      // Volume control
      const volumeSlider = document.getElementById('volumeSlider');
      volumeSlider.addEventListener('input', function() {
        const volume = this.value / 100;
        if (gainNode) gainNode.gain.value = volume;
        document.getElementById('volumeValue').textContent = this.value + '%';
      });
    }
    
    // Toggle play/pause
    function togglePlay() {
      if (isPlaying) {
        stopFrequency();
      } else {
        playFrequency();
      }
    }
    
    // Play frequency
    function playFrequency() {
      if (audioContext.state === 'suspended') {
        audioContext.resume();
      }
      
      oscillator = audioContext.createOscillator();
      oscillator.type = 'sine';
      oscillator.frequency.setValueAtTime(currentFreq, audioContext.currentTime);
      oscillator.connect(gainNode);
      oscillator.start();
      
      isPlaying = true;
      document.getElementById('playBtn').textContent = '⏸';
      
      // Start session timer
      if (!sessionStartTime) {
        sessionStartTime = Date.now();
        sessionTimer = setInterval(updateSessionTimer, 1000);
      }
      
      // Animate spectrum
      animateSpectrum();
    }
    
    // Stop frequency
    function stopFrequency() {
      if (oscillator) {
        oscillator.stop();
        oscillator = null;
      }
      
      isPlaying = false;
      document.getElementById('playBtn').textContent = '▶';
    }
    
    // Set frequency
    function setFrequency(freq) {
      currentFreq = freq;
      document.getElementById('freqDisplay').textContent = freq + ' Hz';
      
      if (oscillator) {
        oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
      }
    }
    
    // Update date/time display
    function updateDateTime() {
      const now = new Date();
      const dateStr = now.toLocaleDateString('fr-FR');
      const timeStr = now.toLocaleTimeString('fr-FR');
      document.getElementById('datetime').textContent = 
        'Rayon actuel : ' + dateStr + ' — ' + timeStr;
    }
    
    // Update session timer
    function updateSessionTimer() {
      if (sessionStartTime) {
        const elapsed = Date.now() - sessionStartTime;
        const hours = Math.floor(elapsed / 3600000);
        const minutes = Math.floor((elapsed % 3600000) / 60000);
        const seconds = Math.floor((elapsed % 60000) / 1000);
        
        document.getElementById('sessionTimer').textContent = 
          String(hours).padStart(2, '0') + ':' +
          String(minutes).padStart(2, '0') + ':' +
          String(seconds).padStart(2, '0');
      }
    }
    
    // Animate spectrum based on frequency
    function animateSpectrum() {
      const bars = document.querySelectorAll('.spectrum-bar');
      bars.forEach((bar, index) => {
        const intensity = Math.sin((currentFreq + index * 10) / 100) * 20 + 30;
        bar.style.height = intensity + 'px';
      });
      
      if (isPlaying) {
        requestAnimationFrame(animateSpectrum);
      }
    }
    
    // Toggle meditation mode
    function toggleMeditation() {
      const overlay = document.getElementById('meditationOverlay');
      const isVisible = overlay.style.display === 'flex';
      overlay.style.display = isVisible ? 'none' : 'flex';
    }
  </script>
</body>
</html>
