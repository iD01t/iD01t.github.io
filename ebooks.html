<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>eBooks Catalog • iD01t Productions</title>
  <meta name="description" content="Browse Guillaume Lessard’s official eBooks directly on Google Books. High SEO performance with structured data and canonical links." />
  <link rel="canonical" href="/ebooks.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="eBooks Catalog • iD01t Productions" />
  <meta property="og:description" content="Browse Guillaume Lessard’s official eBooks directly on Google Books" />
  <meta property="og:url" content="/ebooks.html" />
  <link rel="stylesheet" href="/assets/site.css" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CHX65WY0WZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-CHX65WY0WZ');
  </script>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
  var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;
  j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GT-M39S87SN');</script>

  <style>
    :root { --card-bg: rgba(255,255,255,.06); --border: rgba(255,255,255,.12); }
    @media (prefers-color-scheme: dark) { body { color: #eaeaf0; background: #0b0d10; } }
    .container { max-width: 1200px; margin: 0 auto; padding: 32px 20px; }
    .page-title { font-size: clamp(24px, 3vw, 36px); margin-bottom: 8px; }
    .subtitle { opacity: .8; margin-bottom: 24px; }
    .grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 16px; }
    .card { display:flex; flex-direction:column; border:1px solid var(--border); border-radius:16px; overflow:hidden; background: var(--card-bg); backdrop-filter: blur(6px); }
    .cover { aspect-ratio: 3/4; width:100%; object-fit:cover; background:#111; }
    .content { padding: 14px; display:flex; flex-direction:column; gap:10px; }
    .title { font-weight: 700; line-height:1.25; }
    .meta { font-size: .9rem; opacity: .85; }
    .btn { flex:1 1 auto; text-align:center; padding:10px 12px; border-radius:10px; border:1px solid var(--border); text-decoration:none; color:inherit; background: rgba(255,255,255,.03); margin-top:auto; }
    .btn:hover { filter: brightness(1.05); }
    .empty { opacity:.7; text-align:center; padding:40px 10px; border:1px dashed var(--border); border-radius:16px; }
    .footer { opacity:.7; margin-top:24px; font-size:.9rem; }
  </style>
</head>
<body data-active="eBooks" data-catalog="ebooks">
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GT-M39S87SN" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

  <div class="container">
    <h1 class="page-title">eBooks Catalog</h1>
    <p class="subtitle">Official Google Books listings by Guillaume Lessard. Every link points directly to Google Books for maximum SEO and credibility.</p>

    <section class="grid" id="grid" aria-live="polite"></section>
    <div id="empty" class="empty" hidden>No results. Try again later.</div>
    <div class="footer">Powered by Google Books API. Canonical and structured data embedded for search optimization.</div>
  </div>

  <script>
    const CONFIG = {
      AUTHOR: 'Guillaume Lessard',
      PUBLISHER: 'iD01t Productions',
      MAX_RESULTS: 40,
      API_KEY: ''
    };

    const grid = document.getElementById('grid');
    const empty = document.getElementById('empty');

    async function searchBooks(){
      const q = `inauthor:"${CONFIG.AUTHOR}" OR inpublisher:"${CONFIG.PUBLISHER}"`;
      const params = new URLSearchParams({ q, maxResults: CONFIG.MAX_RESULTS });
      if (CONFIG.API_KEY) params.set('key', CONFIG.API_KEY);
      const url = `https://www.googleapis.com/books/v1/volumes?${params.toString()}`;
      const res = await fetch(url);
      if (!res.ok) throw new Error(res.status);
      return res.json();
    }

    function cardHTML(item){
      const v = item.volumeInfo;
      const img = v.imageLinks || {};
      const thumb = img.thumbnail?.replace('http://','https://') || img.smallThumbnail?.replace('http://','https://') || '/assets/placeholder-cover.svg';
      const title = v.title || 'Untitled';
      const authors = (v.authors||[]).join(', ');
      const date = v.publishedDate || '';
      const info = (v.infoLink || '').replace('http://','https://');
      return `<article class=\"card\"><img class=\"cover\" src=\"${thumb}\" alt=\"${title} cover\"><div class=\"content\"><div class=\"title\">${title}</div><div class=\"meta\">${authors}${date?` • ${date}`:''}</div><a class=\"btn\" href=\"${info}\" target=\"_blank\" rel=\"noopener nofollow\">View on Google Books</a></div></article>`;
    }

    function render(items){
      if (!items.length){ empty.hidden=false; return; }
      grid.innerHTML = items.map(cardHTML).join('');
      emitSchema(items);
    }

    function emitSchema(items){
      const ld = { '@context':'https://schema.org', '@type':'ItemList', name:'iD01t Productions eBooks', itemListElement: items.map((it,i)=>({ '@type':'ListItem', position:i+1, item:{ '@type':'Book', name:it.volumeInfo.title, author:(it.volumeInfo.authors||[]).map(a=>({ '@type':'Person', name:a })), inLanguage:it.volumeInfo.language, publisher: it.volumeInfo.publisher?{ '@type':'Organization', name: it.volumeInfo.publisher}:undefined, datePublished:it.volumeInfo.publishedDate, image: it.volumeInfo.imageLinks?.thumbnail, url: it.volumeInfo.infoLink } }))};
      let tag=document.getElementById('ld-books');
      if(!tag){ tag=document.createElement('script'); tag.type='application/ld+json'; tag.id='ld-books'; document.head.appendChild(tag);} tag.textContent=JSON.stringify(ld);
    }

    (async function init(){
      try {
        const data = await searchBooks();
        render(data.items||[]);
      }catch(e){ console.error(e); empty.hidden=false; }
    })();
  </script>
</body>
</html>
